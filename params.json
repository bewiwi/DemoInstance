{"name":"DemoInstance","tagline":"DemoInstance provides a web interface to deploy demonstration instances in Openstack cloud.","body":"# Project DemoInstance\r\nDemoInstance provides an interface to deploy instance of your project on an Openstack cloud. With this project your futur client can deploy an isolated instance for a defined time.\r\n\r\n## Interface example\r\n\r\n## Pre requisites\r\n\r\n* Python & Python devel & Python PIP\r\n* GCC\r\n* MySQL server / MySQL devel\r\n\r\n## Installation\r\n\r\n```\r\n$ git clone git@github.com:bewiwi/DemoInstance.git\r\n$ pip install -r requirement.txt\r\n$ cp config-dist.ini config.ini\r\n$ vim config.ini\r\n```\r\n\r\n## Configuration\r\n\r\nDemoInstance have a single ini config file : config.ini\r\nIn this file you have many section.\r\n\r\n### DEFAULT\r\n```\r\n[DEFAULT]\r\nlog_level=DEBUG\r\nsecurity_type=open\r\n```\r\n| Argument | Optional | Description |\r\n| -------- | -------- | -------- |\r\n| log_level | No | list of value here https://docs.python.org/2/library/logging.html#logging-levels |\r\n| security_type | No | Values \"open\" (public) or \"email\" (check email before access)  |\r\n\r\n### MAIL\r\n```\r\n[MAIL]\r\nhost=smtp.gmail.com\r\nport=587\r\nuser=user\r\npassword=password\r\nfrom=loic.porte@test.com\r\ntls=yes\r\n```\r\n| Argument | Optional | Description |\r\n| -------- | -------- | -------- |\r\n| host | No | SMTP Host |\r\n| port | Yes | SMTP Port default 25 |\r\n| user | Yes | SMTP User |\r\n| password | Yes | SMTP Password |\r\n| from | Yes | From mail default demoinstance@localhost |\r\n| tls | Yes | SMTP is tls default no |\r\n\r\n\r\n### OPENSTACK\r\n```\r\n[OPENSTACK]\r\nuser=user\r\npassword=password\r\ntenant=project\r\nurl=http://srv-openstack:5000/v2.0\r\nregion=regionOne\r\n```\r\n\r\n| Argument | Optional | Description |\r\n| -------- | -------- | -------- |\r\n| user | No | openstack user |\r\n| password | No | openstack password |\r\n| tenant | No | openstack tenant |\r\n| url | No | openstack keystone api url |\r\n| region | Yes | openstak region |\r\n\r\n### HTTP\r\n```\r\n[HTTP]\r\nport=8080\r\n```\r\nArgument|Optional|Description\r\n--------|--------|--------\r\nport |No|interface/api tcp port\r\n\r\n### DATABASE\r\n```\r\n[DATABASE]\r\nconnection:mysql://root@localhost:3306/demo\r\n```\r\nArgument|Optional|Description\r\n--------|--------|--------\r\nconnection |No|SQLAlchemy connection string of database\r\n\r\nOnly tested with MySQL\r\n\r\n### IMAGE\r\n[IMAGE] section is the template of any [IMAGE\\_].  \r\nYou can define in this section variable shared with all [IMAGE\\_]. The [IMAGE] section do not define a runnable image only section with [IMAGE\\__ImageName_] format define runnable image\r\n\r\n##### config\r\nArgument|Optional|Description\r\n--------|--------|--------\r\nname |No| Name of instance like \"My cool app\"\r\ndesc |No|Little descrition like \"This app is so cooooooool\"\r\ninfo |No|info display after the creation like : \"Login/Password are\\<br />test/test\"\"\r\ntime_default |No|Default instance life time in minute\r\ntime_max=80 |Yes|Max instance time life (activate time selection for user)\r\nimg |Yes|url of picture. Can be in /instance_image or external link\r\nimage_id |No| Openstack image id\r\nflavor_id |No|Openstack flavor id\r\nprefix |No|Openstack prefix name \r\ncheck_url |No|url to call to check if app is ready (%ip% is a placeholder with instance address)\r\nsoft_url |No|url of the app to redirect the user\r\nmax_instance |No|max number of instance\r\n\r\n\r\n#### example\r\nExample with only one instance:\r\n\r\n```\r\n[IMAGE]\r\n\r\n[IMAGE_MYAPP]\r\nname=MyAPP\r\ndesc=My first app\r\ninfo=Login/Password are<br />test/test\r\nimg=/instance_image/example.png\r\nimage_id=34e38945-3b17-4960-80f3-05efea732579\r\nflavor_id=1\r\ntime_default=20\r\nprefix=myapp_\r\ncheck_url=http://%ip%/ok\r\nsoft_url=http://%ip%/\r\nmax_instance=10\r\n```\r\n\r\nExample with three instances\r\n\r\n```\r\n[IMAGE]\r\nflavor_id=1\r\n\r\n[IMAGE_MYAPP1]\r\nname=MyAPP\r\ndesc=My first app\r\n...\r\n\r\n[IMAGE_MYAPP2]\r\nname=MyNewAPP\r\ndesc=My second app\r\n...\r\n\r\n\r\n[IMAGE_MYAPP3]\r\nname=MyLastAPP\r\ndesc=My last app\r\nflavor_id=2\r\n...\r\n```\r\nIn this example just [IMAGE_MYAPP3] run with flavor_id=2 and other image run with flavor_id=1 defined in [IMAGE]\r\n\r\n## Run\r\n```\r\npython demo.py\r\n```\r\nOr\r\n```\r\n./demo.sh start\r\n```\r\n\r\n## Init script\r\n### Redhat/Centos\r\nTemplate for Centos is avaible in samples/\r\nJust link file to /etc/init.d and maybe add it to boot sequence\r\n```\r\nln -s /where/is/your/project /etc/init.d/demoinstance\r\nchkconfig demoinstance on\r\n```\r\nDon't forget to add config file in /etc/sysconfig/demoinstance\r\n```\r\ncat <EOF /etc/sysconfig/demoinstance\r\n# PID file\r\nPIDFILE=/tmp/test.pid\r\n# Log file\r\nLOGFILE=/tmp/log.log\r\n# Process's user\r\nUSER=demoinstance\r\n# Demoinstance folder\r\nDEMO_DIR=/opt/demoinstance\r\nEOF\r\n```\r\n\r\n### Debian/Ubuntu\r\nIf you want this you can do it and make me a PR\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}